<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My HTML Panel (Cloud Synced)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    :root {
      --bg-light: #f6f6f6;
      --bg-dark: #181a20;
      --panel-light: #fff;
      --panel-dark: #23262f;
      --text-light: #222;
      --text-dark: #f6f6f6;
      --accent: #007acc;
      --danger: #e74c3c;
      --border-radius: 8px;
      --box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      --item-hover: #333d4b;
      --selected-panel: #364156;
      --icon-label-dark: #f6f6f6;
      --icon-label-light: #222;
    }
    body {
      font-family: Arial,sans-serif;
      background: var(--bg-dark);
      color: var(--text-dark);
      transition: background 0.2s, color 0.2s;
    }
    .light-mode { background: var(--bg-light); color: var(--text-light); }
    .container {
      max-width: 800px;
      margin: 2rem auto;
      background: var(--panel-dark);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 2rem;
      transition: background 0.2s;
      display: flex;
      gap: 2rem;
    }
    .light-mode .container { background: var(--panel-light); }
    .sidebar {
      width: 220px;
      min-width: 180px;
      border-right: 2px solid #222;
      padding-right: 1.2rem;
      margin-right: 1.2rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .light-mode .sidebar { border-right: 2px solid #ddd; }
    .panel-list {
      list-style: none; padding: 0; margin: 0;
      flex: 1;
    }
    .panel-list li {
      padding: 0.6rem 0.8rem;
      margin-bottom: 0.2rem;
      border-radius: var(--border-radius);
      background: none;
      cursor: pointer;
      display: flex; align-items: center; justify-content: space-between;
      transition: background 0.2s;
      border: 2px solid transparent;
      position: relative;
    }
    .panel-list li.selected {
      background: var(--selected-panel);
      color: #fff;
      border-color: var(--accent);
    }
    .light-mode .panel-list li.selected { background: #eaf3fb; color: #222;}
    .panel-list li:hover {
      background: var(--item-hover);
      color: #fff;
    }
    .light-mode .panel-list li:hover { background: #dde5ef; color: #222;}
    .panel-actions button {
      margin-left: 0.15rem; background: none; border: none; color: var(--accent); cursor: pointer; font-size: 1.1rem;
      padding: 0.2rem 0.4rem;
    }
    .panel-actions .remove { color: var(--danger);}
    .panel-actions .drag { cursor: grab;}
    .add-panel-form { display: flex; gap: 0.4rem; margin-top: 0.8rem;}
    .add-panel-form input { flex: 1; padding: 0.3rem; border-radius: var(--border-radius); border: 1px solid #888;
      background: #1a1d23; color: #fff; }
    .light-mode .add-panel-form input { background: #fff; color: #222;}
    .add-panel-form button { background: var(--accent); color: #fff; border: none; border-radius: var(--border-radius); padding: 0.3rem 0.9rem; cursor: pointer; }
    .main { flex: 3; }
    .top-bar {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin-bottom: 1.1rem;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .theme-toggle {
      background: var(--accent); color: #fff; border: none;
      padding: 0.4rem 0.7rem; border-radius: var(--border-radius);
      cursor: pointer;
    }
    .icon-btn {
      background: none; border: none; cursor: pointer;
      padding: 0.2rem; margin: 0 0.2rem;
      border-radius: var(--border-radius);
      transition: background 0.2s;
      display: flex; align-items: center; justify-content: center;
      font-size: 1rem;
      gap: 0.3rem;
    }
    .icon-btn:hover {
      background: var(--item-hover);
      color: #fff;
    }
    .icon-btn svg {
      width: 24px; height: 24px; vertical-align: middle;
      transition: fill 0.2s;
    }
    .icon-btn.grok svg { fill: #ffb300;}
    .icon-btn.copilot svg { fill: #2a7fff;}
    .icon-btn.gptzero svg { fill: #27ae60;}
    .icon-btn:active svg { opacity: 0.8; }
    .icon-btn span {
      font-size: 1rem;
      vertical-align: middle;
      margin-left: 0.25rem;
      color: var(--icon-label-dark);
      font-weight: bold;
      letter-spacing: 0.5px;
      user-select: none;
      transition: color 0.2s;
    }
    .light-mode .icon-btn span {
      color: var(--icon-label-light);
    }
    .token-bar {
      font-size: 0.95rem;
      margin-bottom: 0.8rem;
      text-align: right;
      color: var(--accent);
      user-select: none;
    }
    .token-bar span {
      font-weight: bold;
      margin-right: 0.6em;
    }
    .token-bar button {
      background: var(--accent); color: #fff; border: none; border-radius: var(--border-radius); padding: 0.2rem 0.7rem; cursor: pointer; font-size: 0.95em;
    }
    .title-block {
      display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;
    }
    .main-title {
      font-size: 1.7rem; font-weight: bold; margin: 0;
      cursor: pointer;
      border-bottom: 1px dashed #888;
      padding-bottom: 2px;
      transition: background 0.2s;
      background: none;
    }
    .main-title:active, .main-title:focus { outline: none; background: var(--item-hover);}
    .edit-title-form input { font-size: 1.2rem; padding: 0.2rem 0.5rem; border-radius: var(--border-radius); border: 1px solid #888;}
    .edit-title-form button { margin-left: 0.3rem; background: var(--accent); color: #fff; border: none; border-radius: var(--border-radius); padding: 0.2rem 0.7rem; cursor: pointer;}
    .edit-title-form { display: flex; gap: 0.4rem;}
    form#addLinkForm { display: flex; gap: 0.5rem; margin-bottom: 1.5rem;}
    input[type="text"], input[type="url"] {
      flex: 1;
      padding: 0.5rem; border-radius: var(--border-radius); border: 1px solid #ccc;
      background: #1a1d23; color: #fff;
      transition: background 0.2s, color 0.2s;
    }
    .light-mode input[type="text"], .light-mode input[type="url"] {
      background: #fff; color: #222;
    }
    button[type="submit"] {
      background: var(--accent); color: #fff; border: none;
      border-radius: var(--border-radius); padding: 0.5rem 1.2rem; cursor: pointer;
    }
    ul.link-list { list-style: none; padding: 0; }
    ul.link-list li { margin: 1rem 0; display: flex; align-items: center; justify-content: space-between; background: none; border-radius: var(--border-radius);}
    ul.link-list li.dragging { opacity: 0.4; }
    .link-title { flex: 2; font-weight: bold; font-size: 1.1rem; }
    .link-url { flex: 3; margin-left: 1rem; word-break: break-all; color: var(--accent); text-decoration: none;}
    .link-actions { flex: 1; text-align: right;}
    .link-actions button { margin-left: 0.3rem; background: none; border: none; color: var(--accent); cursor: pointer; font-size: 1.1rem; padding: 0.2rem 0.4rem;}
    .link-actions .remove { color: var(--danger);}
    .link-actions .drag { cursor: grab;}
    .edit-link-form { display: flex; gap: 0.5rem; margin-top: 0.5rem;}
    .edit-link-form input[type="text"], .edit-link-form input[type="url"] { padding: 0.3rem; border-radius: var(--border-radius); border: 1px solid #ccc;}
    @media (max-width: 700px) {
      .container { flex-direction: column; gap: 0.5rem;}
      .sidebar { width: auto; min-width: 0; border-right: none; padding-right: 0; margin-right: 0;}
      .main { width: 100%;}
      .top-bar { justify-content: flex-start;}
      .icon-btn span { display: none; }
      .token-bar { text-align: left; font-size: 1em;}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <ul class="panel-list" id="panelList"></ul>
      <form class="add-panel-form" id="addPanelForm">
        <input type="text" id="newPanelTitle" placeholder="New panel name" required>
        <button type="submit" title="Add Panel">+</button>
      </form>
    </div>
    <div class="main">
      <div class="token-bar" id="tokenBar"></div>
      <div class="top-bar">
        <button class="icon-btn grok" id="grokBtn" title="Open Grok">
          <svg viewBox="0 0 32 32">
            <circle cx="16" cy="16" r="8" fill="#fff"/>
            <path d="M4 6 Q16 2, 28 6 Q21 8, 16 14 Q11 8, 4 6Z" fill="#ffb300"/>
            <path d="M16 14 Q21 8, 28 6" stroke="#ffa000" stroke-width="1.3" fill="none"/>
          </svg>
          <span>Open Grok</span>
        </button>
        <button class="icon-btn copilot" id="copilotBtn" title="Open Copilot">
          <svg viewBox="0 0 32 32">
            <rect x="7" y="13" width="18" height="10" rx="4" fill="#fff"/>
            <circle cx="16" cy="11" r="7" fill="#2a7fff"/>
            <circle cx="13" cy="13" r="2.5" fill="#fff"/>
            <circle cx="19" cy="13" r="2.5" fill="#fff"/>
          </svg>
          <span>Open Copilot</span>
        </button>
        <button class="icon-btn gptzero" id="gptzeroBtn" title="Open GPTZero">
          <svg viewBox="0 0 32 32">
            <rect x="6" y="11" width="20" height="10" rx="5" fill="#fff"/>
            <circle cx="16" cy="16" r="7" fill="#27ae60"/>
            <circle cx="13" cy="16" r="2.5" fill="#fff"/>
            <circle cx="19" cy="16" r="2.5" fill="#fff"/>
          </svg>
          <span>Open GPTZero</span>
        </button>
        <button class="theme-toggle" id="themeToggle">Light Mode</button>
      </div>
      <div class="title-block" id="panelTitleBlock">
        <h1 class="main-title" id="mainTitle" tabindex="0" title="Click to edit"></h1>
      </div>
      <form id="addLinkForm">
        <input type="text" id="linkTitle" placeholder="Link title" required>
        <input type="url" id="linkUrl" placeholder="https://example.com/page.html" required>
        <button type="submit">Add Link</button>
      </form>
      <ul class="link-list" id="linksList"></ul>
    </div>
  </div>

<script>
const panelsKey = "my_html_panel_panels_cloud";
const themeKey = "my_html_panel_theme";
const tokenStorageKey = "github_panel_token";
const repoOwner = "lhwongn-bot"; // <== CHANGE to your GitHub username!
const repoName = "your-repo-name"; // <== CHANGE to your repo name!
const dataFile = "panel-data.json";
const branch = "main"; // or "gh-pages" or your default branch

let panels = [];
let selectedPanelIdx = 0;
let githubToken = null;

const panelList = document.getElementById("panelList");
const addPanelForm = document.getElementById("addPanelForm");
const newPanelTitle = document.getElementById("newPanelTitle");
const mainTitle = document.getElementById("mainTitle");
const panelTitleBlock = document.getElementById("panelTitleBlock");
const addLinkForm = document.getElementById("addLinkForm");
const linkTitle = document.getElementById("linkTitle");
const linkUrl = document.getElementById("linkUrl");
const linksList = document.getElementById("linksList");
const themeToggle = document.getElementById("themeToggle");
const grokBtn = document.getElementById("grokBtn");
const copilotBtn = document.getElementById("copilotBtn");
const gptzeroBtn = document.getElementById("gptzeroBtn");
const tokenBar = document.getElementById("tokenBar");

grokBtn.onclick = () => window.open("https://grok.com/?referrer=website", "_blank");
copilotBtn.onclick = () => window.open("https://m365.cloud.microsoft/chat/?auth=1&origindomain=Office", "_blank");
gptzeroBtn.onclick = () => window.open("https://gptzero.me/", "_blank");

// ====== THEME ======
function setTheme(mode) {
  if (mode === "light") {
    document.body.classList.add("light-mode");
    themeToggle.textContent = "Dark Mode";
  } else {
    document.body.classList.remove("light-mode");
    themeToggle.textContent = "Light Mode";
  }
  localStorage.setItem(themeKey, mode);
}
themeToggle.onclick = () => {
  const curr = document.body.classList.contains("light-mode") ? "light" : "dark";
  setTheme(curr === "light" ? "dark" : "light");
};
(function() {
  let mode = localStorage.getItem(themeKey) || "dark";
  setTheme(mode);
})();

// ====== TOKEN LOGIC ======
function loadToken() {
  githubToken = localStorage.getItem(tokenStorageKey) || null;
  renderTokenBar();
}
function saveToken(token) {
  githubToken = token;
  localStorage.setItem(tokenStorageKey, githubToken);
  renderTokenBar();
}
function clearToken() {
  githubToken = null;
  localStorage.removeItem(tokenStorageKey);
  renderTokenBar();
}
function promptForToken() {
  let token = prompt("Enter your GitHub Personal Access Token (repo scope):");
  if (token) saveToken(token);
  return !!token;
}
function renderTokenBar() {
  if (githubToken) {
    tokenBar.innerHTML = `<span>Token stored</span> <button onclick="clearToken()">Change Token</button>`;
  } else {
    tokenBar.innerHTML = `<span>No token</span> <button onclick="promptForToken()">Enter Token</button>`;
  }
}

// ====== CLOUD PANEL LOGIC ======
async function fetchPanelData() {
  const url = `https://raw.githubusercontent.com/${repoOwner}/${repoName}/${branch}/${dataFile}`;
  try {
    const resp = await fetch(url);
    if (!resp.ok) throw new Error("Could not load cloud panel data.");
    return await resp.json();
  } catch (e) {
    return [{ title: "My Panel", links: [] }];
  }
}
async function getDataFileSha() {
  const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/${dataFile}?ref=${branch}`;
  const resp = await fetch(apiUrl, {
    headers: githubToken ? { Authorization: "token " + githubToken } : {}
  });
  if (!resp.ok) return null;
  const json = await resp.json();
  return json.sha || null;
}
async function savePanelsCloud() {
  if (!githubToken) {
    if (!promptForToken()) return;
  }
  const sha = await getDataFileSha();
  const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/${dataFile}`;
  const body = {
    message: "Update panel data",
    content: btoa(unescape(encodeURIComponent(JSON.stringify(panels,null,2)))),
    branch: branch
  };
  if (sha) body.sha = sha;
  const resp = await fetch(apiUrl, {
    method: "PUT",
    headers: {
      "Authorization": "token " + githubToken,
      "Content-Type": "application/json"
    },
    body: JSON.stringify(body)
  });
  if (!resp.ok) {
    alert("Failed to save. Check your token and repo permissions.");
    return;
  }
}

// ====== PANEL UI LOGIC ======
function renderPanelList() {
  panelList.innerHTML = "";
  panels.forEach((panel, idx) => {
    const li = document.createElement("li");
    li.draggable = true;
    li.className = idx === selectedPanelIdx ? "selected" : "";
    li.textContent = panel.title;
    li.onclick = () => {
      selectedPanelIdx = idx;
      renderPanelList();
      renderPanel();
    };
    const actions = document.createElement("span");
    actions.className = "panel-actions";
    const editBtn = document.createElement("button");
    editBtn.innerHTML = "✏️";
    editBtn.title = "Rename";
    editBtn.onclick = (e) => {
      e.stopPropagation();
      startEditPanelTitle(idx);
    };
    const removeBtn = document.createElement("button");
    removeBtn.innerHTML = "🗑️";
    removeBtn.className = "remove";
    removeBtn.title = "Delete";
    removeBtn.onclick = async (e) => {
      e.stopPropagation();
      if (panels.length === 1) {
        alert("Cannot remove last panel.");
        return;
      }
      if (confirm("Delete this panel and all its links?")) {
        panels.splice(idx,1);
        if (selectedPanelIdx >= panels.length) selectedPanelIdx = panels.length-1;
        await savePanelsCloud();
        renderPanelList();
        renderPanel();
      }
    };
    const dragBtn = document.createElement("button");
    dragBtn.innerHTML = "↕️";
    dragBtn.className = "drag";
    dragBtn.title = "Drag to reorder";
    dragBtn.setAttribute("draggable", "true");
    dragBtn.onmousedown = (e) => { e.stopPropagation(); };
    actions.append(editBtn, removeBtn, dragBtn);
    li.appendChild(actions);

    li.addEventListener('dragstart', (e) => {
      e.dataTransfer.effectAllowed = 'move';
      e.dataTransfer.setData('text/plain', idx.toString());
      li.classList.add('dragging');
    });
    li.addEventListener('dragend', (e) => {
      li.classList.remove('dragging');
    });
    li.addEventListener('dragover', (e) => {
      e.preventDefault();
      li.style.borderColor = "var(--accent)";
    });
    li.addEventListener('dragleave', (e) => {
      li.style.borderColor = "transparent";
    });
    li.addEventListener('drop', async (e) => {
      e.preventDefault();
      li.style.borderColor = "transparent";
      const fromIdx = parseInt(e.dataTransfer.getData('text/plain'),10);
      const toIdx = idx;
      if (fromIdx !== toIdx) {
        const moved = panels.splice(fromIdx,1)[0];
        panels.splice(toIdx,0,moved);
        if (selectedPanelIdx === fromIdx) selectedPanelIdx = toIdx;
        else if (selectedPanelIdx > fromIdx && selectedPanelIdx <= toIdx) selectedPanelIdx--;
        else if (selectedPanelIdx < fromIdx && selectedPanelIdx >= toIdx) selectedPanelIdx++;
        await savePanelsCloud();
        renderPanelList();
        renderPanel();
      }
    });
    panelList.appendChild(li);
  });
}

function startEditPanelTitle(idx) {
  const li = panelList.children[idx];
  if (!li) return;
  li.innerHTML = "";
  const form = document.createElement("form");
  form.className = "edit-title-form";
  const input = document.createElement("input");
  input.type = "text";
  input.value = panels[idx].title;
  input.required = true;
  form.appendChild(input);
  const saveBtn = document.createElement("button");
  saveBtn.type = "submit";
  saveBtn.textContent = "Save";
  form.appendChild(saveBtn);
  const cancelBtn = document.createElement("button");
  cancelBtn.type = "button";
  cancelBtn.textContent = "Cancel";
  form.appendChild(cancelBtn);
  form.onsubmit = async (e) => {
    e.preventDefault();
    panels[idx].title = input.value;
    await savePanelsCloud();
    renderPanelList();
    renderPanel();
  };
  cancelBtn.onclick = (e) => {
    renderPanelList();
  };
  li.appendChild(form);
  input.focus();
}

addPanelForm.onsubmit = async (e) => {
  e.preventDefault();
  const title = newPanelTitle.value.trim();
  if (!title) return;
  panels.push({ title, links: [] });
  selectedPanelIdx = panels.length-1;
  await savePanelsCloud();
  newPanelTitle.value = "";
  renderPanelList();
  renderPanel();
};

function renderPanel() {
  panelTitleBlock.innerHTML = "";
  if (!panels[selectedPanelIdx]) return;
  let editingTitle = false;
  function showTitle() {
    panelTitleBlock.innerHTML = "";
    const h1 = document.createElement("h1");
    h1.className = "main-title";
    h1.id = "mainTitle";
    h1.textContent = panels[selectedPanelIdx].title;
    h1.tabIndex = 0;
    h1.title = "Click to edit title";
    h1.onclick = () => showEditTitle();
    h1.onkeydown = (e) => {
      if (e.key === "Enter" || e.key === " ") showEditTitle();
    };
    panelTitleBlock.appendChild(h1);
  }
  async function showEditTitle() {
    panelTitleBlock.innerHTML = "";
    const form = document.createElement("form");
    form.className = "edit-title-form";
    const input = document.createElement("input");
    input.type = "text";
    input.value = panels[selectedPanelIdx].title;
    input.required = true;
    form.appendChild(input);
    const saveBtn = document.createElement("button");
    saveBtn.type = "submit";
    saveBtn.textContent = "Save";
    form.appendChild(saveBtn);
    const cancelBtn = document.createElement("button");
    cancelBtn.type = "button";
    cancelBtn.textContent = "Cancel";
    form.appendChild(cancelBtn);
    form.onsubmit = async (e) => {
      e.preventDefault();
      panels[selectedPanelIdx].title = input.value;
      await savePanelsCloud();
      showTitle();
      renderPanelList();
    };
    cancelBtn.onclick = () => showTitle();
    panelTitleBlock.appendChild(form);
    input.focus();
  }
  showTitle();

  addLinkForm.style.display = "flex";
  linkTitle.value = "";
  linkUrl.value = "";

  renderLinks();
}

function renderLinks() {
  linksList.innerHTML = "";
  const links = panels[selectedPanelIdx].links;
  links.forEach((link, idx) => {
    const li = document.createElement("li");
    li.draggable = true;
    if (link.editing) {
      const editForm = document.createElement("form");
      editForm.className = "edit-link-form";
      const editTitle = document.createElement("input");
      editTitle.type = "text";
      editTitle.value = link.title;
      editTitle.required = true;
      const editUrl = document.createElement("input");
      editUrl.type = "url";
      editUrl.value = link.url;
      editUrl.required = true;
      const saveBtn = document.createElement("button");
      saveBtn.type = "submit";
      saveBtn.textContent = "Save";
      const cancelBtn = document.createElement("button");
      cancelBtn.type = "button";
      cancelBtn.textContent = "Cancel";
      cancelBtn.onclick = () => {
        delete links[idx].editing;
        renderLinks();
      };
      editForm.onsubmit = async (e) => {
        e.preventDefault();
        links[idx].title = editTitle.value;
        links[idx].url = editUrl.value;
        delete links[idx].editing;
        await savePanelsCloud();
        renderLinks();
      };
      editForm.append(editTitle, editUrl, saveBtn, cancelBtn);
      li.appendChild(editForm);
    } else {
      const titleSpan = document.createElement("span");
      titleSpan.className = "link-title";
      titleSpan.textContent = link.title;
      const urlA = document.createElement("a");
      urlA.className = "link-url";
      urlA.href = link.url;
      urlA.target = "_blank";
      urlA.rel = "noopener";
      urlA.textContent = link.url;
      const actions = document.createElement("span");
      actions.className = "link-actions";
      const editBtn = document.createElement("button");
      editBtn.title = "Edit";
      editBtn.innerHTML = "✏️";
      editBtn.onclick = () => {
        links[idx].editing = true;
        renderLinks();
      };
      const removeBtn = document.createElement("button");
      removeBtn.title = "Remove";
      removeBtn.className = "remove";
      removeBtn.innerHTML = "🗑️";
      removeBtn.onclick = async () => {
        if (confirm("Remove this link?")) {
          links.splice(idx, 1);
          await savePanelsCloud();
          renderLinks();
        }
      };
      const dragBtn = document.createElement("button");
      dragBtn.innerHTML = "↕️";
      dragBtn.className = "drag";
      dragBtn.title = "Drag to reorder";
      dragBtn.setAttribute("draggable", "true");
      dragBtn.onmousedown = (e) => { e.stopPropagation(); };
      actions.append(editBtn, removeBtn, dragBtn);
      li.append(titleSpan, urlA, actions);
    }
    li.addEventListener('dragstart', (e) => {
      e.dataTransfer.effectAllowed = 'move';
      e.dataTransfer.setData('text/link-idx', idx.toString());
      li.classList.add('dragging');
    });
    li.addEventListener('dragend', (e) => {
      li.classList.remove('dragging');
    });
    li.addEventListener('dragover', (e) => {
      e.preventDefault();
      li.style.borderColor = "var(--accent)";
    });
    li.addEventListener('dragleave', (e) => {
      li.style.borderColor = "transparent";
    });
    li.addEventListener('drop', async (e) => {
      e.preventDefault();
      li.style.borderColor = "transparent";
      const fromIdx = parseInt(e.dataTransfer.getData('text/link-idx'),10);
      const toIdx = idx;
      if (fromIdx !== toIdx) {
        const moved = links.splice(fromIdx,1)[0];
        links.splice(toIdx,0,moved);
        await savePanelsCloud();
        renderLinks();
      }
    });
    linksList.appendChild(li);
  });
}

addLinkForm.onsubmit = async (e) => {
  e.preventDefault();
  const title = linkTitle.value.trim();
  const url = linkUrl.value.trim();
  if (!title || !url) return;
  panels[selectedPanelIdx].links.push({ title, url });
  await savePanelsCloud();
  linkTitle.value = "";
  linkUrl.value = "";
  renderLinks();
};

// ====== INIT ======
window.clearToken = clearToken;
window.promptForToken = promptForToken;
loadToken();
(async function init() {
  panels = await fetchPanelData();
  renderPanelList();
  renderPanel();
})();
</script>
</body>
</html>